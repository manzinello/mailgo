"use strict";var V="0.4.4",MAILTO="mailto:",mailgoCSS=document.createElement("link");mailgoCSS.rel="stylesheet",mailgoCSS.type="text/css",mailgoCSS.href="https://unpkg.com/mailgo@"+V+"/dist/mailgo.min.css",document.head.appendChild(mailgoCSS);var mailgoInit=function(){var e=document.createElement("div");e.id="mailgo",e.classList.add("mailgo-modal"),e.style.display="none";var t=document.createElement("div");t.className="mailgo-modal-background",e.appendChild(t);var a=document.createElement("div");a.className="mailgo-modal-content",e.appendChild(a);var o=document.createElement("strong");o.id="mailgo-title",o.className="mailgo-title",a.appendChild(o);var n=document.createElement("div");n.id="mailgo-details",n.className="mailgo-details";var i=document.createElement("p");i.id="mailgo-cc";var l=document.createElement("span");l.className="mailgo-weight-500";var d=document.createTextNode("cc ");l.appendChild(d);var c=document.createElement("span");c.id="mailgo-cc-value",i.appendChild(l),i.appendChild(c),n.appendChild(i);var m=document.createElement("p");m.id="mailgo-bcc";var r=document.createElement("span");r.className="mailgo-weight-500";var s=document.createTextNode("bcc ");r.appendChild(s);var p=document.createElement("span");p.id="mailgo-bcc-value",m.appendChild(r),m.appendChild(p),n.appendChild(m);var g=document.createElement("p");g.id="mailgo-subject";var u=document.createElement("span");u.className="mailgo-weight-500";var h=document.createTextNode("subject");u.appendChild(h);var v=document.createElement("span");v.id="mailgo-subject-value",g.appendChild(u),g.appendChild(v),n.appendChild(g);var C=document.createElement("p");C.id="mailgo-body";var E=document.createElement("span");E.className="mailgo-weight-500";var y=document.createTextNode("body ");E.appendChild(y);var b=document.createElement("span");b.id="mailgo-body-value",C.appendChild(E),C.appendChild(b),n.appendChild(C),a.appendChild(n);var f=document.createElement("a");f.id="mailgo-gmail",f.href="#mailgo-gmail",f.classList.add("mailgo-open"),f.classList.add("mailgo-gmail");var k=document.createTextNode("open in ");f.appendChild(k);var L=document.createElement("span");L.className="mailgo-weight-500";var w=document.createTextNode("Gmail");L.appendChild(w),f.appendChild(L),a.appendChild(f);var x=document.createElement("a");x.id="mailgo-outlook",x.href="#mailgo-outlook",x.classList.add("mailgo-open"),x.classList.add("mailgo-outlook");var N=document.createTextNode("open in ");x.appendChild(N);var T=document.createElement("span");T.className="mailgo-weight-500";var A=document.createTextNode("Outlook");T.appendChild(A),x.appendChild(T),a.appendChild(x);var S=document.createElement("a");S.id="mailgo-open",S.href="#mailgo-open",S.classList.add("mailgo-open"),S.classList.add("mailgo-default");var I=document.createElement("span");I.className="mailgo-weight-500";var R=document.createTextNode("open");I.appendChild(R);var M=document.createTextNode(" default");S.appendChild(I),S.appendChild(M),a.appendChild(S);var O=document.createElement("a");O.id="mailgo-copy",O.href="#mailgo-copy",O.classList.add("mailgo-copy"),O.classList.add("mailgo-weight-500");var j=document.createTextNode("copy");O.appendChild(j),a.appendChild(O);var U=document.createElement("a");U.href="https://mailgo.js.org?ref="+window.location.hostname,U.className="mailgo-by",U.target="_blank",U.rel="noopener noreferrer";var D=document.createTextNode("mailgo.js.org");U.appendChild(D),a.appendChild(U),document.body.appendChild(e),t.addEventListener("click",hideMailgo,!1)},mailgoRender=function(e){var t="",a="",o="",n="",i="",l="",d="";if(e.href&&e.href.toLowerCase().startsWith(MAILTO)){t=decodeURIComponent(e.href.split("?")[0].split(MAILTO)[1].trim()),o=e.href,a=new URL(o);var c=new URLSearchParams(a.search);n=c.get("cc"),i=c.get("bcc"),l=c.get("subject"),d=c.get("body")}else t=e.getAttribute("data-address")+"@"+e.getAttribute("data-domain"),o=MAILTO+encodeURIComponent(t),a=new URL(o),n=e.getAttribute("data-cc-address")+"@"+e.getAttribute("data-cc-domain"),i=e.getAttribute("data-bcc-address")+"@"+e.getAttribute("data-bcc-domain"),l=e.getAttribute("data-subject"),d=e.getAttribute("data-body");if(validateEmail(t)){validateEmail(n)||(n=""),validateEmail(i)||(i="");var m=getE("mailgo-title"),r=(getE("mailgo-details"),getE("mailgo-cc")),s=getE("mailgo-cc-value"),p=getE("mailgo-bcc"),g=getE("mailgo-bcc-value"),u=getE("mailgo-subject"),h=getE("mailgo-subject-value"),v=getE("mailgo-body"),C=getE("mailgo-body-value"),E=getE("mailgo-gmail"),y=getE("mailgo-outlook"),b=getE("mailgo-open"),f=getE("mailgo-copy");m.textContent=t,n?(r.style.display="block",s.textContent=n):r.style.display="none",i?(p.style.display="block",g.textContent=i):p.style.display="none",l?(u.style.display="block",h.textContent=l):u.style.display="none",d?(v.style.display="block",C.textContent=d):v.style.display="none",E.addEventListener("click",function(){actions.openGmail(o)},!1),y.addEventListener("click",function(){actions.openOutlook(t,a)},!1);var k=encodeEmail(t);b.addEventListener("click",function(){actions.openDefault(k)},!1),f.addEventListener("click",function(e){actions.copy(t,f)},!1),showMailgo(),e.addEventListener("keydown",function(){mailgoKeydown(t,a,o,k,f)},!1)}},actions={openGmail:function(e){window.open("https://mail.google.com/mail?extsrc=mailto&url="+encodeURIComponent(e),"_blank")},openOutlook:function(e,t){window.open("https://outlook.office.com/owa/?rru=compose&to="+encodeURIComponent(e)+t.search.replace(/^[$]/,"&"),"_blank")},openDefault:function(e){mailToEncoded(e)},copy:function(e,t){copyToClipboard(e),t.textContent="copied";setTimeout(function(){t.textContent="copy"},999)}},mailgoCheckRender=function(e){var t=e.target;document.contains(getE("mailgo"))&&(t.href&&t.href.toLowerCase().startsWith(MAILTO)&&!t.classList.contains("no-mailgo")||t.href&&"#mailgo"===t.getAttribute("href").toLowerCase()||t.classList.contains("mailgo"))&&(e.preventDefault(),mailgoRender(t))},mailgoKeydown=function(e,t,a,o,n){if(mailgoIsShowing())switch(event.keyCode){case 27:hideMailgo();break;case 71:actions.openGmail(a);break;case 79:actions.openOutlook(e,t);break;case 32:case 13:actions.openDefault(o);break;case 67:actions.copy(e,n);break;default:return}};document.addEventListener("DOMContentLoaded",mailgoInit,!1),document.addEventListener("click",mailgoCheckRender,!0);var validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},copyToClipboard=function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))},showMailgo=function(){return getE("mailgo").style.display="flex"},hideMailgo=function(){return getE("mailgo").style.display="none"},mailgoIsShowing=function(){return"flex"===getE("mailgo").style.display},mailToEncoded=function(e){return window.location.href=MAILTO+atob(e)},encodeEmail=function(e){return btoa(e)},getE=function(e){return document.getElementById(e)};